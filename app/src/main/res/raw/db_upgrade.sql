CREATE TABLE IF NOT EXISTS genero_en (id INTEGER PRIMARY KEY AUTOINCREMENT, nombre VARCHAR(20));
INSERT INTO genero_en (nombre) VALUES ("Action"); 
INSERT INTO genero_en (nombre) VALUES ("Arcade"); 
INSERT INTO genero_en (nombre) VALUES ("Adventure"); 
INSERT INTO genero_en (nombre) VALUES ("Adventure (graphic)"); 
INSERT INTO genero_en (nombre) VALUES ("Beat em up"); 
INSERT INTO genero_en (nombre) VALUES ("Cards"); 
INSERT INTO genero_en (nombre) VALUES ("Driving"); 
INSERT INTO genero_en (nombre) VALUES ("Sports"); 
INSERT INTO genero_en (nombre) VALUES ("First Person Shooter"); 
INSERT INTO genero_en (nombre) VALUES ("Third Person Shooter"); 
INSERT INTO genero_en (nombre) VALUES ("Educational"); 
INSERT INTO genero_en (nombre) VALUES ("Exercise");
INSERT INTO genero_en (nombre) VALUES ("Strategy"); 
INSERT INTO genero_en (nombre) VALUES ("Board game"); 
INSERT INTO genero_en (nombre) VALUES ("Fight"); 
INSERT INTO genero_en (nombre) VALUES ("MMO"); 
INSERT INTO genero_en (nombre) VALUES ("Music"); 
INSERT INTO genero_en (nombre) VALUES ("Platforms"); 
INSERT INTO genero_en (nombre) VALUES ("Puzzle"); 
INSERT INTO genero_en (nombre) VALUES ("RPG"); 
INSERT INTO genero_en (nombre) VALUES ("RPG - Action"); 
INSERT INTO genero_en (nombre) VALUES ("RPG - Japanese"); 
INSERT INTO genero_en (nombre) VALUES ("RPG - TActic"); 
INSERT INTO genero_en (nombre) VALUES ("Sandbox"); 
INSERT INTO genero_en (nombre) VALUES ("Stealth"); 
INSERT INTO genero_en (nombre) VALUES ("Simulator"); 
INSERT INTO genero_en (nombre) VALUES ("Survival horror");
CREATE TABLE IF NOT EXISTS idioma_en (id INTEGER PRIMARY KEY AUTOINCREMENT, nombre VARCHAR(20), drawable VARCHAR(20));
INSERT INTO idioma_en (nombre,drawable) VALUES ('Spanish','id_es');
INSERT INTO idioma_en (nombre,drawable) VALUES ('English','id_en');
INSERT INTO idioma_en (nombre,drawable) VALUES ('French','id_fr');
INSERT INTO idioma_en (nombre,drawable) VALUES ('German','id_de');
INSERT INTO idioma_en (nombre,drawable) VALUES ('Italian','id_it');
INSERT INTO idioma_en (nombre,drawable) VALUES ('Japanese','id_jp');
ALTER TABLE juego RENAME TO juego_tmp;
CREATE TABLE IF NOT EXISTS juego (id INTEGER PRIMARY KEY AUTOINCREMENT,ean varchar(256) UNIQUE NULL, titulo varchar(256) NOT NULL,compania varchar(256) NOT NULL, genero int(2) NOT NULL,plataforma int(2) NOT NULL, clasificacion int(2) NOT NULL,idioma int(2), fecha_lanzamiento bigint(64) DEFAULT NULL,fecha_compra bigint(64) DEFAULT NULL,precio float DEFAULT NULL, completado int(1) NOT NULL,resumen varchar(512) NOT NULL,caratula varchar(512) NOT NULL,fecha_creacion bigint(64) NOT NULL,fecha_completado bigint(64) NULL,comentario varchar(512) NULL,puntuacion int(2) NULL,formato char(2) NOT NULL,FOREIGN KEY(plataforma) REFERENCES plataforma(id),FOREIGN KEY(idioma) REFERENCES idioma(id),FOREIGN KEY(genero) REFERENCES genero(id),FOREIGN KEY(clasificacion) REFERENCES clasificacion(id));
insert into juego SELECT id,ean,titulo,compania,genero,plataforma,clasificacion,idioma,fecha_lanzamiento,fecha_compra,precio,completado, resumen,caratula,fecha_creacion,fecha_completado,comentario,puntuacion,formato  FROM juego_tmp;
DROP table juego_tmp;
